<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Global</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Global</h1>

    




<section>

<header>
    
        <h2></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="comprobarAdmin"><span class="type-signature"></span>comprobarAdmin<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Comprueba si un usuario es administrador a partir de un token.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de solicitud HTTP. Se espera que tenga una propiedad `body` con un campo `token` que contiene el token del usuario.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de respuesta HTTP. Se utiliza para enviar la respuesta al cliente.

La función obtiene el ID del usuario a partir del token proporcionado, y luego ejecuta una consulta SQL para obtener los datos del usuario con ese ID.
Si se encuentra el usuario y su rol es 1 (lo que indica que es un administrador), se envía una respuesta con el código de estado HTTP 200 y el valor `true`.
Si se encuentra el usuario y su rol no es 1, o si no se encuentra ningún usuario con el ID obtenido, se envía una respuesta con el código de estado HTTP 200 y el valor `false`.
Si ocurre un error durante la consulta o al obtener el ID del usuario a partir del token, se envía una respuesta con el código de estado HTTP 500 y un mensaje indicando que hubo un error al obtener los datos del usuario.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="usuarios.js.html">usuarios.js</a>, <a href="usuarios.js.html#line274">line 274</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="comprobarLogin"><span class="type-signature"></span>comprobarLogin<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Comprueba si las credenciales de inicio de sesión (correo electrónico y contraseña) son válidas.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de solicitud HTTP. Se espera que tenga una propiedad `body` con los campos `email` y `password`.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de respuesta HTTP. Se utiliza para enviar la respuesta al cliente.

La función ejecuta una consulta SQL para obtener el usuario con el correo electrónico proporcionado. 
Luego, comprueba si la contraseña proporcionada, cuando se aplica un algoritmo de hash SHA256, coincide con la contraseña del usuario.
Si las credenciales son válidas, genera un token a partir del ID del usuario y una cadena secreta, y envía una respuesta con el código de estado HTTP 200 y el token.
Si la contraseña es incorrecta, envía una respuesta con un mensaje indicando que la contraseña es incorrecta.
Si no se encuentra ningún usuario con el correo electrónico proporcionado, envía una respuesta con un mensaje indicando que el usuario es inválido.
Si ocurre un error durante la consulta, envía una respuesta con el código de estado HTTP 500 y un mensaje indicando que hubo un error interno del servidor.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="usuarios.js.html">usuarios.js</a>, <a href="usuarios.js.html#line182">line 182</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="delete"><span class="type-signature"></span>delete<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Elimina una mascota de la base de datos.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de solicitud HTTP. Se espera que tenga una propiedad `query` con un campo `id_mascota` que contiene el ID de la mascota a eliminar.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de respuesta HTTP. Se utiliza para enviar la respuesta al cliente.

La función ejecuta una consulta SQL para eliminar la mascota con el ID proporcionado. 
Si la eliminación es exitosa y se eliminó al menos una fila, se envía una respuesta con el código de estado HTTP 200 y un mensaje indicando que la mascota fue borrada correctamente.
Si la eliminación es exitosa pero no se eliminó ninguna fila (es decir, no se encontró ninguna mascota con el ID proporcionado), se envía una respuesta con el código de estado HTTP 404 y un mensaje indicando que no se encontró ninguna mascota para eliminar.
Si ocurre un error durante la eliminación, se envía una respuesta con el código de estado HTTP 500 y un mensaje indicando que hubo un error al intentar eliminar la mascota.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mascotas.js.html">mascotas.js</a>, <a href="mascotas.js.html#line88">line 88</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="delete"><span class="type-signature"></span>delete<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Elimina una reserva de la base de datos.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de solicitud HTTP. Se espera que tenga una propiedad `query` con un campo `id_reserva` que contiene el ID de la reserva a eliminar.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de respuesta HTTP. Se utiliza para enviar la respuesta al cliente.

Si la eliminación es exitosa, se envía una respuesta con el código de estado HTTP 200 y un mensaje indicando que la reserva fue borrada correctamente.
Si ocurre un error durante la eliminación, se envía una respuesta con el código de estado HTTP 500 y un mensaje indicando que hubo un error al intentar eliminar la reserva.
Si no se encuentra ninguna reserva con el ID proporcionado, se envía una respuesta con el código de estado HTTP 404 y un mensaje indicando que no se encontró ninguna reserva para eliminar.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="reservas.js.html">reservas.js</a>, <a href="reservas.js.html#line15">line 15</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="delete"><span class="type-signature"></span>delete<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Elimina un usuario y sus reservas huérfanas de la base de datos.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de solicitud HTTP. Se espera que tenga una propiedad `query` con un campo `id_usuario` que contiene el ID del usuario a eliminar.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de respuesta HTTP. Se utiliza para enviar la respuesta al cliente.

La función ejecuta una consulta SQL para eliminar el usuario especificado. 
Si la eliminación del usuario es exitosa, ejecuta otra consulta SQL para eliminar todas las reservas que no están asociadas a ninguna mascota (reservas huérfanas).
Si ambas eliminaciones son exitosas, se envía una respuesta con el código de estado HTTP 200 y un mensaje indicando que el usuario y sus reservas huérfanas fueron borrados correctamente.
Si ocurre un error durante la eliminación del usuario, se envía una respuesta con el código de estado HTTP 500 y un mensaje indicando que hubo un error al intentar eliminar el usuario.
Si ocurre un error durante la eliminación de las reservas huérfanas, se envía una respuesta con el código de estado HTTP 500 y un mensaje indicando que hubo un error al intentar eliminar las reservas huérfanas.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="usuarios.js.html">usuarios.js</a>, <a href="usuarios.js.html#line146">line 146</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="get"><span class="type-signature"></span>get<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Obtiene todos los usuarios y sus mascotas correspondientes de la base de datos.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de solicitud HTTP.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de respuesta HTTP. Se utiliza para enviar la respuesta al cliente.

La función ejecuta una consulta SQL para obtener todos los usuarios. 
Para cada usuario, ejecuta otra consulta SQL para obtener todas las mascotas que pertenecen a ese usuario.
Si todas las consultas son exitosas, se envía una respuesta con el código de estado HTTP 200 y un objeto JSON que contiene los usuarios y sus mascotas.
Si ocurre un error durante alguna de las consultas, se lanza una excepción con el error.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="usuarios.js.html">usuarios.js</a>, <a href="usuarios.js.html#line51">line 51</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="insert"><span class="type-signature"></span>insert<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Inserta una nueva mascota en la base de datos.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de solicitud HTTP. Se espera que tenga una propiedad `body` con los campos de la mascota, incluyendo `nombre`, `fecha_nac`, `alergias`, `observaciones` y `propietario`.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de respuesta HTTP. Se utiliza para enviar la respuesta al cliente.

La función extrae el ID del propietario y los datos de la mascota del cuerpo de la solicitud, y luego inserta la mascota en la base de datos con los datos proporcionados.
Si el ID del propietario es -1, se envía una respuesta con el código de estado HTTP 404 y un mensaje indicando que el usuario no fue encontrado.
Si la inserción es exitosa, se envía una respuesta con el código de estado HTTP 200 y un mensaje indicando que la mascota fue registrada correctamente.
Si ocurre un error durante la inserción, se lanza una excepción con el error.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mascotas.js.html">mascotas.js</a>, <a href="mascotas.js.html#line15">line 15</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="insert"><span class="type-signature"></span>insert<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Inserta un nuevo usuario en la base de datos.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de solicitud HTTP. Se espera que tenga una propiedad `body` con los campos del usuario, incluyendo `password`.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de respuesta HTTP. Se utiliza para enviar la respuesta al cliente.

La función extrae la contraseña del cuerpo de la solicitud, la encripta con SHA256, y luego inserta el usuario en la base de datos con la contraseña encriptada.
Si la inserción es exitosa, se envía una respuesta con el código de estado HTTP 200 y un mensaje indicando que el usuario fue registrado correctamente.
Si ocurre un error durante la inserción y el error es debido a una entrada duplicada (es decir, el correo electrónico del usuario ya está en uso), se envía una respuesta con el código de estado HTTP 203 y un mensaje indicando que el correo electrónico ya está en uso.
Si ocurre cualquier otro error durante la inserción, se envía una respuesta con el código de estado HTTP 400 y un mensaje indicando que hubo un error al registrar el usuario.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="usuarios.js.html">usuarios.js</a>, <a href="usuarios.js.html#line85">line 85</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="obtenerDatosUsuario"><span class="type-signature"></span>obtenerDatosUsuario<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Obtiene los datos de un usuario y sus mascotas a partir de un token.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de solicitud HTTP. Se espera que tenga una propiedad `body` con un campo `token` que contiene el token del usuario.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de respuesta HTTP. Se utiliza para enviar la respuesta al cliente.

La función obtiene el ID del usuario a partir del token proporcionado, y luego ejecuta una consulta SQL para obtener los datos del usuario con ese ID.
Si se encuentra el usuario, ejecuta otra consulta SQL para obtener todas las mascotas que pertenecen a ese usuario.
Si ambas consultas son exitosas, se envía una respuesta con el código de estado HTTP 200 y un objeto JSON que contiene los datos del usuario, un indicador de inicio de sesión y las mascotas del usuario.
Si no se encuentra ningún usuario con el ID obtenido, se envía una respuesta con el código de estado HTTP 200, un mensaje indicando que el usuario no fue encontrado y un indicador de inicio de sesión en falso.
Si ocurre un error durante alguna de las consultas o al obtener el ID del usuario a partir del token, se envía una respuesta con el código de estado HTTP 500 y un mensaje indicando que hubo un error al obtener los datos del usuario.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="usuarios.js.html">usuarios.js</a>, <a href="usuarios.js.html#line221">line 221</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="obtenerIdToken"><span class="type-signature"></span>obtenerIdToken<span class="signature">(token)</span><span class="type-signature"> &rarr; {Promise.&lt;number>}</span></h4>
    

    



<div class="description">
    Obtiene el ID del usuario a partir de un token.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>token</code></td>
            

            <td class="type">
            
                
<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last">El token del usuario.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="usuarios.js.html">usuarios.js</a>, <a href="usuarios.js.html#line18">line 18</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Una promesa que se resuelve con el ID del usuario si se encuentra un usuario con el token proporcionado, o -1 si no se encuentra ningún usuario.

La función ejecuta una consulta SQL para obtener todos los usuarios. 
Luego, busca un usuario cuyo ID, cuando se combina con una cadena secreta y se aplica un algoritmo de hash SHA256, coincide con el token proporcionado.
Si se encuentra un usuario, la promesa se resuelve con el ID del usuario.
Si no se encuentra ningún usuario, la promesa se resuelve con -1.
Si ocurre un error durante la consulta, la promesa se rechaza con el error.
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;number></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="obtenerReservasPorUsuario"><span class="type-signature"></span>obtenerReservasPorUsuario<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Obtiene todas las reservas realizadas por un usuario específico.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de solicitud HTTP. Se espera que tenga una propiedad `query` con un campo `id_usuario` que contiene el ID del usuario.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de respuesta HTTP. Se utiliza para enviar la respuesta al cliente.

La función ejecuta una consulta SQL para obtener todas las reservas realizadas por el usuario especificado. 
Cada reserva incluye la información de la reserva y las mascotas asociadas a la reserva.
Si la consulta es exitosa, se envía una respuesta con el código de estado HTTP 200 y un objeto JSON que contiene las reservas.
Si ocurre un error durante la consulta, se envía una respuesta con el código de estado HTTP 500 y un mensaje indicando que hubo un error al obtener las reservas.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="reservas.js.html">reservas.js</a>, <a href="reservas.js.html#line102">line 102</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="obtenerTodasLasReservas"><span class="type-signature"></span>obtenerTodasLasReservas<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Obtiene todas las reservas existentes en la base de datos.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de solicitud HTTP.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de respuesta HTTP. Se utiliza para enviar la respuesta al cliente.

La función ejecuta una consulta SQL para obtener todas las reservas. 
Cada reserva incluye la información de la reserva y las mascotas asociadas a la reserva.
Si la consulta es exitosa, se envía una respuesta con el código de estado HTTP 200 y un objeto JSON que contiene las reservas.
Si ocurre un error durante la consulta, se envía una respuesta con el código de estado HTTP 500 y un mensaje indicando que hubo un error al obtener las reservas.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="reservas.js.html">reservas.js</a>, <a href="reservas.js.html#line159">line 159</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="reservar"><span class="type-signature"></span>reservar<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Crea una nueva reserva y asocia mascotas a la reserva.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de solicitud HTTP. Se espera que tenga una propiedad `body` con los campos `fecha_inicio`, `fecha_fin`, `peticiones`, `precio` y `mascotas`.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de respuesta HTTP. Se utiliza para enviar la respuesta al cliente.

Si la creación de la reserva es exitosa, se envía una respuesta con el código de estado HTTP 201 y un mensaje indicando que la reserva fue creada exitosamente.
Si ocurre un error durante la creación de la reserva, se envía una respuesta con el código de estado HTTP 500 y un mensaje indicando que hubo un error al crear la reserva.
Si ocurre un error al asociar una mascota a la reserva, se envía una respuesta con el código de estado HTTP 500 y un mensaje indicando que hubo un error al asociar la mascota a la reserva.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="reservas.js.html">reservas.js</a>, <a href="reservas.js.html#line42">line 42</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="update"><span class="type-signature"></span>update<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Actualiza la información de una mascota en la base de datos.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de solicitud HTTP. Se espera que tenga una propiedad `body` con los campos de la mascota a actualizar, incluyendo `id_mascota`.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de respuesta HTTP. Se utiliza para enviar la respuesta al cliente.

La función extrae el ID de la mascota y los datos de la mascota del cuerpo de la solicitud. 
Si se proporciona una fecha de nacimiento, se convierte a un objeto de fecha y luego a una cadena en formato ISO.
Si no se proporciona una fecha de nacimiento, se utiliza la fecha actual.
Luego, actualiza la mascota en la base de datos con los datos proporcionados.
Si la actualización es exitosa, se envía una respuesta con el código de estado HTTP 200 y un mensaje indicando que la mascota fue actualizada correctamente.
Si ocurre un error durante la actualización, se lanza una excepción con el error.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mascotas.js.html">mascotas.js</a>, <a href="mascotas.js.html#line57">line 57</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="update"><span class="type-signature"></span>update<span class="signature">(req, res)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Actualiza la información de un usuario en la base de datos.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>req</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de solicitud HTTP. Se espera que tenga una propiedad `body` con los campos del usuario a actualizar, incluyendo `id_usuario`.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>res</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last">El objeto de respuesta HTTP. Se utiliza para enviar la respuesta al cliente.

La función extrae el ID del usuario y los datos del usuario del cuerpo de la solicitud, y luego actualiza el usuario en la base de datos con los datos proporcionados.
Si la actualización es exitosa, se envía una respuesta con el código de estado HTTP 200 y un mensaje indicando que el usuario fue actualizado correctamente.
Si ocurre un error durante la actualización, se lanza una excepción con el error.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="usuarios.js.html">usuarios.js</a>, <a href="usuarios.js.html#line121">line 121</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#comprobarAdmin">comprobarAdmin</a></li><li><a href="global.html#comprobarLogin">comprobarLogin</a></li><li><a href="global.html#delete">delete</a></li><li><a href="global.html#get">get</a></li><li><a href="global.html#insert">insert</a></li><li><a href="global.html#obtenerDatosUsuario">obtenerDatosUsuario</a></li><li><a href="global.html#obtenerIdToken">obtenerIdToken</a></li><li><a href="global.html#obtenerReservasPorUsuario">obtenerReservasPorUsuario</a></li><li><a href="global.html#obtenerTodasLasReservas">obtenerTodasLasReservas</a></li><li><a href="global.html#reservar">reservar</a></li><li><a href="global.html#update">update</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.3</a> on Fri May 03 2024 21:58:35 GMT+0200 (hora de verano de Europa central)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>