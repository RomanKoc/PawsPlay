<div>
  <h1 class="text-2xl text-paws-play-100 text-center mb-2">USUARIOS</h1>
</div>
<div class="col-span-full lg:col-span-6 overflow-hidden relative rounded-xl">
  @if (usuarios.length > 0) {
    <input type="text" pInputText [(ngModel)]="filtro" placeholder="Buscar usuario o mascota.."
    [ngStyle]="{'width':'100%'}" class="text-paws-play-100 bg-gray-200"/>
  <p-table [value]="usuarios" [tableStyle]="{'min-width': '0rem' }">
    <ng-template pTemplate="header" let-columns>
      <tr>
        <th>Nombre</th>
        <th>Apellidos</th>
        <th>Email</th>
        <th>Direccion</th>
        <th>Mascotas</th>
        <th>Eliminar usuario</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-usuario let-columns="columns">
      <tr *ngIf="usuarioCoincideConFiltro(usuario)">
        <td>{{usuario.nombre | titlecase}}</td>
        <td>{{usuario.apellidos | titlecase}}</td>
        <td>{{usuario.email}}</td>
        <td>{{usuario.direccion}}</td>
        <td>{{obtenerNombresMascotas(usuario.mascotas) | titlecase}}</td>
        @if (usuario.rol == 2) {
        <td><p-button type="button" icon="pi pi-trash" label="Borrar" (click)="deleteUsuario(usuario.id_usuario)"
            [style]="{ width: '100%', height: '40%' }" [rounded]="true"></p-button></td>
        } @else {
        <td><p-button type="button" icon="pi pi-lock" label="ADMIN" [style]="{ width: '100%', height: '40%' }"
            [rounded]="true"></p-button></td>
        }

      </tr>
    </ng-template>
  </p-table>
  } @else {
  <p class="text-center">No hay reservas</p>
  }
</div>